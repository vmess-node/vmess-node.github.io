<!doctype html>
<html xml:lang="zh-CN" lang="zh-CN">

<head>
        <link rel="canonical" href="https://vmess-node.github.io/news/article-86009.htm" />
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>vue写一个简单的文件上传控件</title>
        <meta name="description" content="这篇将介绍如何写一个简单的基于Vue+Element的文件上传控件。 控件将具有 1. 上传队列的列表，显示文件名称，大小等信息，可以显示上传进度实时刷新 2. 取消上传  &nbsp;使用Eleme" />
        <link rel="icon" href="/assets/website/img/vmess_node/favicon.ico" type="image/x-icon"/>

    <meta name="author" content="Vmess Node免费节点订阅官网">
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://vmess-node.github.io/news/article-86009.htm" />
    <meta property="og:site_name" content="Vmess Node免费节点订阅官网" />
    <meta property="og:title" content="vue写一个简单的文件上传控件" />
    <meta property="og:image" content="https://vmess-node.github.io/uploads/20240804-1/fa76105a7758bc3054f3f80a419c90b3.webp" />
        <meta property="og:release_date" content="2025-04-01T09:47:50" />
    <meta property="og:updated_time" content="2025-04-01T09:47:50" />
        <meta property="og:description" content="这篇将介绍如何写一个简单的基于Vue+Element的文件上传控件。 控件将具有 1. 上传队列的列表，显示文件名称，大小等信息，可以显示上传进度实时刷新 2. 取消上传  &nbsp;使用Eleme" />
        
    <meta name="applicable-device" content="pc,mobile" />
    <meta name="renderer" content="webkit" />
    <meta name="force-rendering" content="webkit" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta name="robots" content="max-image-preview:large" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="vue写一个简单的文件上传控件">
    <meta name="format-detection" content="telephone=no">

    <link rel="dns-prefetch" href="https:/www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googleadservices.com">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com">
    <link rel="dns-prefetch" href="https://cm.g.doubleclick.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">

    <!-- google fonts -->
    <link href="//fonts.googleapis.com/css?family=Work+Sans:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <!-- Template CSS -->
    <link rel="stylesheet" href="/assets/website/css/vmess_node/style-starter.css">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M9G1YCGHCT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M9G1YCGHCT');
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body data-page="detail">
        <!--header-->
    <div class="w3l-top-header">
        <header id="site-header" class="fixed-top">
            <div class="container">
                <nav class="navbar navbar-expand-lg navbar-dark stroke">
                    <a class="navbar-brand" href="/">
                                        <span>Vmess Node</span>
                                        </a>
                    <button class="navbar-toggler  collapsed bg-gradient" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon fa icon-expand fa-bars"></span>
                        <span class="navbar-toggler-icon fa icon-close fa-times"></span>
                        </span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                        <ul class="navbar-nav mx-auto">
                                                        <li class="nav-item">
                                <a class="nav-link" href="/">首页</a>
                            </li>
                                                        <li class="nav-item">
                                <a class="nav-link" href="/free-nodes/">免费节点</a>
                            </li>
                                                        <li class="nav-item">
                                <a class="nav-link" href="/paid-subscribe/">推荐机场</a>
                            </li>
                                                        <li class="nav-item">
                                <a class="nav-link" href="/client.htm">客户端</a>
                            </li>
                                                        <li class="nav-item">
                                <a class="nav-link" href="/news/">新闻资讯</a>
                            </li>
                                                    </ul>
                    </div>
                </nav>
            </div>
        </header>
    </div>
    <!--/header-->
    <!-- breadcrum -->
    <section class="w3l-deal-breadcrum">
        <div class="breadcrum py-5">
            <div class="container">
                <h1>vue写一个简单的文件上传控件</h1>
                <p><a href="/">首页</a> &nbsp; / &nbsp; <a href="/news/">新闻资讯</a>  &nbsp; / &nbsp; 正文</p>
            </div>
        </div>
    </section>
    <!-- //breadcrum -->
        <!-- //stats -->
    <section class="w3l-index2 py-5" id="about">
        <div class="container py-lg-3">
            <div class="row">
                <div class="col-md-9">
                                    <input type="hidden" id="share-website-info" data-name="" data-url="">
                  				  				  				<p><span data-cke-copybin-start="1"><span data-cke-copybin-start="1"></span></span><span id="cke_bm_382S">这篇将介绍如何写一个简单的基于Vue+Element的文件上传控件。</span></p> <p>控件将具有</p> <p>1. 上传队列的列表，显示文件名称，大小等信息，可以显示上传进度实时刷新</p> <p>2. 取消上传</p> <p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="图像" data-cke-filter="off" data-cke-widget-id="15" data-cke-widget-wrapper="1"><img fetchpriority="high" decoding="async" src="http://img.555519.xyz/uploads3/20220509/3225b63738ea7573429c37d0b6de0ede.jpg" alt="vue写一个简单的文件上传控件"><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/><span class="cke_image_resizer" title="点击并拖拽以改变尺寸"></span></span></span></p> <p>&nbsp;使用Element的uploader控件，上传文件的行为和样式不用自己全部实现，使代码简化。且有足够的扩展性，文件传输请求的代码可以基于axios完全自己重写。我们只用关心核心代码。</p> <h2>搭建项目框架</h2> <p>首先建立一个空白的项目，引入Element控件库，具体的操作和使用Element控件库请看官方文档：</p> <p><span class="cke_widget_wrapper cke_widget_inline cke_widget_csdnlink cke_widget_selected" data-cke-display-name="a" data-cke-filter="off" data-cke-widget-id="14" data-cke-widget-wrapper="1"><a class="cke_widget_editable cke_widget_element" title="组件 | Element" href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://element.eleme.cn/#/zh-CN/component/quickstart"  data-cke-enter-mode="2" data-cke-saved-href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://element.eleme.cn/#/zh-CN/component/quickstart"  data-cke-widget-data="%7B%22url%22%3A%22https%3A%2F%2Felement.eleme.cn%2F%23%2Fzh-CN%2Fcomponent%2Fquickstart%22%2C%22text%22%3A%22%E7%BB%84%E4%BB%B6%20%7C%20Element%22%2C%22desc%22%3A%22%22%2C%22icon%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.8%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM276%22%2C%22isCard%22%3Afalse%2C%22hasResquest%22%3Atrue%2C%22iconDefault%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.9%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM3C8%22%2C%22id%22%3A%22XXNnT2-1650438341156%22%2C%22classes%22%3Anull%7D" data-cke-widget-editable="text" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.0.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M276" data-link-title="组件 | Element" data-widget="csdnlink" rel="nofollow">组件 | Element</a></span></p> <p>后端项目框架的搭建，请阅读：<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://www.cnblogs.com/jevonsflash/p/16169976.html"  rel="nofollow">[.Net 6]写一个简单的文件上传控件后端 - 林晓lx - 博客园 (cnblogs.com)</a><span class="cke_widget_wrapper cke_widget_inline cke_widget_csdnlink cke_widget_selected" data-cke-display-name="a" data-cke-filter="off" data-cke-widget-id="13" data-cke-widget-wrapper="1"><a class="cke_widget_editable cke_widget_element" title="[.Net 6]写一个简单的文件上传控件后端_林 小的博客-CSDN博客" href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://blog.csdn.net/jevonsflash/article/details/124152645"  data-cke-enter-mode="2" data-cke-saved-href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://blog.csdn.net/jevonsflash/article/details/124152645"  data-cke-widget-data="%7B%22url%22%3A%22https%3A%2F%2Fblog.csdn.net%2Fjevonsflash%2Farticle%2Fdetails%2F124152645%22%2C%22text%22%3A%22%5B.Net%206%5D%E5%86%99%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%8E%A7%E4%BB%B6%E5%90%8E%E7%AB%AF_%E6%9E%97%20%E5%B0%8F%E7%9A%84%E5%8D%9A%E5%AE%A2-CSDN%E5%8D%9A%E5%AE%A2%22%2C%22desc%22%3A%22%22%2C%22icon%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.8%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM276%22%2C%22isCard%22%3Afalse%2C%22hasResquest%22%3Atrue%2C%22iconDefault%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.9%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM3C8%22%2C%22id%22%3A%22NCaJGh-1650438341155%22%2C%22classes%22%3Anull%7D" data-cke-widget-editable="text" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.0.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M276" data-link-title="[.Net 6]写一个简单的文件上传控件后端_林 小的博客-CSDN博客" data-widget="csdnlink" rel="nofollow"><br /></a></span></p> <h2>编写文件上传代码</h2> <p>编写文件上传的帮助类，新建ajaxRequire.ts并键入以下内容：</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="12" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22TypeScript%22%2C%22code%22%3A%22import%20axios%2C%20%7B%20CancelTokenSource%20%7D%20from%20'axios'%5Cn%2F%2F%E5%8F%91%E9%80%81%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%5Cnexport%20const%20request%20%3D%20async%20(url%3A%20string%2C%20methods%2C%20data%3A%20any%2C%20onProgress%3F%3A%20(e)%3D%3Evoid%2C%20cancelToken%3F%3A%20CancelTokenSource)%20%3D%3E%20%7B%20%20%20%5Cn%20%20%20%20let%20token%20%3D%20null%5Cn%20%20%20%20let%20timeout%20%3D%203000%3B%5Cn%20%20%20%20if%20(cancelToken)%20%7B%5Cn%20%20%20%20%20%20%20%20token%20%3D%20cancelToken.token%5Cn%20%20%20%20%20%20%20%20timeout%20%3D%200%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20const%20service%20%3D%20axios.create()%5Cn%20%20%20%20const%20re%20%3D%20await%20service.request(%7B%5Cn%20%20%20%20%20%20%20%20headers%3A%20%7B'Content-Type'%3A%20'multipart%2Fform-data'%7D%2C%5Cn%20%20%20%20%20%20%20%20url%3A%20url%2C%5Cn%20%20%20%20%20%20%20%20method%3A%20methods%2C%5Cn%20%20%20%20%20%20%20%20data%3A%20data%2C%5Cn%20%20%20%20%20%20%20%20cancelToken%3A%20token%2C%5Cn%20%20%20%20%20%20%20%20timeout%3A%20timeout%2C%5Cn%20%20%20%20%20%20%20%20onUploadProgress%3A%20function%20(progressEvent)%20%7B%20%2F%2F%E5%8E%9F%E7%94%9F%E8%8E%B7%E5%8F%96%E4%B8%8A%E4%BC%A0%E8%BF%9B%E5%BA%A6%E7%9A%84%E4%BA%8B%E4%BB%B6%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(progressEvent.lengthComputable)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(onProgress)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onProgress(progressEvent)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%7D)%5Cn%20%20%20%20return%20re%20as%20any%3B%5Cn%7D%5Cn%5Cn%2F%2F%2F%E8%8E%B7%E5%BE%97%E5%8F%96%E6%B6%88%E4%BB%A4%E7%89%8C%5Cnexport%20const%20getCancelToken%20%3D%20()%20%3D%3E%20%7B%5Cn%20%20%20%20const%20source%20%3D%20axios.CancelToken.source()%3B%5Cn%20%20%20%20return%20source%3B%5Cn%7D%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-TypeScript hljs"><span class="hljs-keyword">import axios, {<span class="hljs-title class_">CancelTokenSource }<span class="hljs-keyword">from<span class="hljs-string">'axios'<span class="hljs-comment">//发送网络请求<span class="hljs-keyword">export<span class="hljs-keyword">const request =<span class="hljs-keyword">async (<span class="hljs-attr">url:<span class="hljs-built_in">string, methods,<span class="hljs-attr">data:<span class="hljs-built_in">any, onProgress?:<span class="hljs-function">(<span class="hljs-params">e)=&gt;<span class="hljs-built_in">void, cancelToken?:<span class="hljs-title class_">CancelTokenSource) =&gt; {<span class="hljs-keyword">let token =<span class="hljs-literal">null<span class="hljs-keyword">let timeout =<span class="hljs-number">3000;<span class="hljs-keyword">if (cancelToken) {         token = cancelToken.<span class="hljs-property">token         timeout =<span class="hljs-number">0;     }<span class="hljs-keyword">const service = axios.<span class="hljs-title function_">create()<span class="hljs-keyword">const re =<span class="hljs-keyword">await service.<span class="hljs-title function_">request({<span class="hljs-attr">headers: {<span class="hljs-string">'Content-Type':<span class="hljs-string">'multipart/form-data'},<span class="hljs-attr">url: url,<span class="hljs-attr">method: methods,<span class="hljs-attr">data: data,<span class="hljs-attr">cancelToken: token,<span class="hljs-attr">timeout: timeout,<span class="hljs-attr">onUploadProgress:<span class="hljs-keyword">function (<span class="hljs-params">progressEvent) {<span class="hljs-comment">//原生获取上传进度的事件<span class="hljs-keyword">if (progressEvent.<span class="hljs-property">lengthComputable) {<span class="hljs-keyword">if (onProgress) {<span class="hljs-title function_">onProgress(progressEvent);                 }             }         },     })<span class="hljs-keyword">return re<span class="hljs-keyword">as<span class="hljs-built_in">any; }<span class="hljs-comment">///获得取消令牌<span class="hljs-keyword">export<span class="hljs-keyword">const<span class="hljs-title function_">getCancelToken = () =&gt; {<span class="hljs-keyword">const source = axios.<span class="hljs-property">CancelToken.<span class="hljs-title function_">source();<span class="hljs-keyword">return source; }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <p>onUploadProgress回调函数将在数据传输进度变化的时候触发，携带progressEvent&nbsp;原生获取上传进度事件参数，progressEvent.lengthComputable用于判断是否可以进行进度计算</p> <p>axios.CancelToken.source()可以获得一个源，这个源包含一个唯一Id用于标识哪个请求，和一个cancel函数用于取消请求</p> <h2><strong>编写控件</strong></h2> <p>在App.vue中添加核心的控件<strong> &lt;el-upload&gt;</strong></p> <p>接着添加属性，注意我们将用自己的方法upload替换el-upload中的上传操作，因此设置action="/",</p> <p>:http-request="upload",如下：</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="11" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22html%22%2C%22code%22%3A%22%3Cel-upload%5Cn%20%20%20%20%20%20ref%3D%5C%22upload%5C%22%5Cn%20%20%20%20%20%20%3Alimit%3D%5C%2210%5C%22%5Cn%20%20%20%20%20%20multiple%5Cn%20%20%20%20%20%20action%3D%5C%22%2F%5C%22%5Cn%20%20%20%20%20%20%3Ahttp-request%3D%5C%22upload%5C%22%3E%5Cn%3C%2Fel-upload%3E%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-html hljs"><span class="hljs-tag">&lt;<span class="hljs-name">el-upload<span class="hljs-attr">ref=<span class="hljs-string">"upload"<span class="hljs-attr">:limit=<span class="hljs-string">"10"<span class="hljs-attr">multiple<span class="hljs-attr">action=<span class="hljs-string">"/"<span class="hljs-attr">:http-request=<span class="hljs-string">"upload"&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-upload&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <p>在script中添加上传Dto：一些业务相关的数据在这里定义 比如ownerUserId， fileContainerName等，这些数据可以通过表单与文件数据一并上传</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="10" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22TypeScript%22%2C%22code%22%3A%22export%20class%20CreateFileDto%20%7B%5Cn%20%20id%3A%20string%3B%5Cn%20%20fileContainerName%3A%20string%3B%20%2F%2F%E6%96%87%E4%BB%B6%E5%A4%B9%E5%90%8D%E7%A7%B0%5Cn%20%20parentId%3A%20string%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%E6%96%87%E4%BB%B6%E7%9A%84%E7%88%B6Id%5Cn%20%20ownerUserId%3A%20number%3B%20%20%20%20%20%20%20%20%2F%2F%E6%96%87%E4%BB%B6%E7%9A%84%E5%BD%92%E5%B1%9E%E7%94%A8%E6%88%B7Id%5Cn%20%20fileName%3A%20string%3B%5Cn%20%20mimeType%3A%20string%3B%5Cn%20%20fileType%3A%20number%3B%20%2F%2F%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%200%EF%BC%9A%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%8C1%EF%BC%9A%E6%99%AE%E9%80%9A%E6%96%87%E4%BB%B6%5Cn%20%20file%3A%20any%3B%20%20%20%20%20%20%20%20%2F%2F%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%5Cn%7D%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-TypeScript hljs"><span class="hljs-keyword">export<span class="hljs-keyword">class<span class="hljs-title class_">CreateFileDto {<span class="hljs-attr">id:<span class="hljs-built_in">string;<span class="hljs-attr">fileContainerName:<span class="hljs-built_in">string;<span class="hljs-comment">//文件夹名称<span class="hljs-attr">parentId:<span class="hljs-built_in">string;<span class="hljs-comment">//文件的父Id<span class="hljs-attr">ownerUserId:<span class="hljs-built_in">number;<span class="hljs-comment">//文件的归属用户Id<span class="hljs-attr">fileName:<span class="hljs-built_in">string;<span class="hljs-attr">mimeType:<span class="hljs-built_in">string;<span class="hljs-attr">fileType:<span class="hljs-built_in">number;<span class="hljs-comment">//文件类型 0：文件夹，1：普通文件<span class="hljs-attr">file:<span class="hljs-built_in">any;<span class="hljs-comment">//文件数据 }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <p>method中添加一些帮助类函数：</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="9" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22TypeScript%22%2C%22code%22%3A%22methods%3A%20%7B%5Cn%20%20successMessage(value%20%3D%20%5C%22%E6%89%A7%E8%A1%8C%E6%88%90%E5%8A%9F%5C%22)%20%7B%5Cn%20%20%20%20%20%20this.%24notify(%7B%5Cn%20%20%20%20%20%20%20%20title%3A%20%5C%22%E6%88%90%E5%8A%9F%5C%22%2C%5Cn%20%20%20%20%20%20%20%20message%3A%20value%2C%5Cn%20%20%20%20%20%20%20%20type%3A%20%5C%22success%5C%22%2C%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%2C%5Cn%5Cn%20%20errorMessage(value%20%3D%20%5C%22%E6%89%A7%E8%A1%8C%E9%94%99%E8%AF%AF%5C%22)%20%7B%5Cn%20%20%20%20%20%20this.%24notify.error(%7B%5Cn%20%20%20%20%20%20%20%20title%3A%20%5C%22%E9%94%99%E8%AF%AF%5C%22%2C%5Cn%20%20%20%20%20%20%20%20message%3A%20value%2C%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%20%20%20%20%7D%2C%5Cn%5Cn%20%20FriendlyFileSize(bytes)%20%7B%5Cn%20%20%20%20%20%20bytes%20%3D%20parseFloat(bytes)%3B%5Cn%20%20%20%20%20%20if%20(bytes%20%3D%3D%3D%200)%20return%20%5C%220B%5C%22%3B%5Cn%20%20%20%20%20%20let%20k%20%3D%201024%2C%5Cn%20%20%20%20%20%20%20%20sizes%20%3D%20%5B%5C%22B%5C%22%2C%20%5C%22KB%5C%22%2C%20%5C%22MB%5C%22%2C%20%5C%22GB%5C%22%2C%20%5C%22TB%5C%22%5D%2C%5Cn%20%20%20%20%20%20%20%20i%20%3D%20Math.floor(Math.log(bytes)%20%2F%20Math.log(k))%3B%5Cn%20%20%20%20%20%20return%20(bytes%20%2F%20Math.pow(k%2C%20i)).toPrecision(3)%20%2B%20sizes%5Bi%5D%3B%5Cn%20%20%20%20%7D%2C%5Cn%7D%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-TypeScript hljs"><span class="hljs-attr">methods: {<span class="hljs-title function_">successMessage(<span class="hljs-params">value =<span class="hljs-string">"执行成功") {<span class="hljs-variable language_">this.$notify({<span class="hljs-attr">title:<span class="hljs-string">"成功",<span class="hljs-attr">message: value,<span class="hljs-attr">type:<span class="hljs-string">"success",       });     },<span class="hljs-title function_">errorMessage(<span class="hljs-params">value =<span class="hljs-string">"执行错误") {<span class="hljs-variable language_">this.<span class="hljs-property">$notify.<span class="hljs-title function_">error({<span class="hljs-attr">title:<span class="hljs-string">"错误",<span class="hljs-attr">message: value,       });     },<span class="hljs-title class_">FriendlyFileSize(bytes) {       bytes =<span class="hljs-built_in">parseFloat(bytes);<span class="hljs-keyword">if (bytes ===<span class="hljs-number">0)<span class="hljs-keyword">return<span class="hljs-string">"0B";<span class="hljs-keyword">let k =<span class="hljs-number">1024,         sizes = [<span class="hljs-string">"B",<span class="hljs-string">"KB",<span class="hljs-string">"MB",<span class="hljs-string">"GB",<span class="hljs-string">"TB"],         i =<span class="hljs-title class_">Math.<span class="hljs-title function_">floor(<span class="hljs-title class_">Math.<span class="hljs-title function_">log(bytes) /<span class="hljs-title class_">Math.<span class="hljs-title function_">log(k));<span class="hljs-keyword">return (bytes /<span class="hljs-title class_">Math.<span class="hljs-title function_">pow(k, i)).<span class="hljs-title function_">toPrecision(<span class="hljs-number">3) + sizes[i];     }, }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <p>编写提交前置函数，这里将做验证和生成cancelToken：</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="8" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22TypeScript%22%2C%22code%22%3A%22beforeUpload(file)%20%7B%5Cn%20%20%20%20%20%20var%20token%20%3D%20getCancelToken()%3B%5Cn%20%20%20%20%20%20file.cancelToken%20%3D%20token%3B%5Cn%20%20%20%20%20%20let%20isLt2M%20%3D%20true%3B%5Cn%20%20%20%20%20%20if%20(this.fileSizeLimit%20%3C%200)%20%7B%5Cn%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20isLt2M%20%3D%20file.size%20%2F%201024%20%2F%201024%20%3C%20this.fileSizeLimit%3B%5Cn%20%20%20%20%20%20if%20(!isLt2M)%20%7B%5Cn%20%20%20%20%20%20%20%20this.loading%20%3D%20false%3B%5Cn%20%20%20%20%20%20%20%20this.errorMessage(%60%5C%22%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%E4%B8%8D%E8%83%BD%E8%B6%85%E8%BF%87%20%24%7Bthis.fileSizeLimit%7D%7DMB!%5C%22%60)%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20return%20isLt2M%3B%5Cn%7D%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-TypeScript hljs"><span class="hljs-title function_">beforeUpload(<span class="hljs-params">file) {<span class="hljs-keyword">var token =<span class="hljs-title function_">getCancelToken();       file.<span class="hljs-property">cancelToken = token;<span class="hljs-keyword">let isLt2M =<span class="hljs-literal">true;<span class="hljs-keyword">if (<span class="hljs-variable language_">this.<span class="hljs-property">fileSizeLimit &lt;<span class="hljs-number">0) {<span class="hljs-keyword">return<span class="hljs-literal">true;       }       isLt2M = file.<span class="hljs-property">size /<span class="hljs-number">1024 /<span class="hljs-number">1024 &lt;<span class="hljs-variable language_">this.<span class="hljs-property">fileSizeLimit;<span class="hljs-keyword">if (!isLt2M) {<span class="hljs-variable language_">this.<span class="hljs-property">loading =<span class="hljs-literal">false;<span class="hljs-variable language_">this.<span class="hljs-title function_">errorMessage(<span class="hljs-string">`"上传文件大小不能超过<span class="hljs-subst">${<span class="hljs-variable language_">this.fileSizeLimit}}MB!"`);       }<span class="hljs-keyword">return isLt2M; }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <p>&nbsp;编写upload函数，用于组装请求数据并交给&nbsp;ajaxRequire&nbsp;执行上传任务</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="7" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22TypeScript%22%2C%22code%22%3A%22%20%20async%20upload(option)%20%7B%5Cn%20%20%20%20%20%20this.loaded%20%3D%20true%3B%5Cn%20%20%20%20%20%20var%20model%20%3D%20new%20CreateFileDto()%3B%5Cn%20%20%20%20%20%20var%20file%20%3D%20option.file%3B%5Cn%20%20%20%20%20%20model.fileName%20%3D%20file.name%3B%5Cn%20%20%20%20%20%20model.fileType%20%3D%202%3B%5Cn%20%20%20%20%20%20model.mimeType%20%3D%20file.type%3B%5Cn%20%20%20%20%20%20model.ownerUserId%20%3D%201%3B%5Cn%20%20%20%20%20%20model.fileContainerName%20%3D%20%5C%22Container1%5C%22%3B%5Cn%20%20%20%20%20%20model.file%20%3D%20file%3B%5Cn%20%20%20%20%20%20var%20fd%20%3D%20new%20FormData()%3B%5Cn%5Cn%20%20%20%20%20%20Enumerable.from(model).forEach((c)%20%3D%3E%20%7B%5Cn%20%20%20%20%20%20%20%20fd.append(c.key%2C%20c.value)%3B%5Cn%20%20%20%20%20%20%7D)%3B%5Cn%5Cn%20%20%20%20%20%20var%20token%20%3D%20file.cancelToken%3B%5Cn%20%20%20%20%20%20await%20request(%5Cn%20%20%20%20%20%20%20%20this.uploadUrl%2C%5Cn%20%20%20%20%20%20%20%20%5C%22post%5C%22%2C%5Cn%20%20%20%20%20%20%20%20fd%2C%5Cn%20%20%20%20%20%20%20%20(e)%20%3D%3E%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20if%20(e.total%20%3E%200)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20e.percent%20%3D%20(e.loaded%20%2F%20e.total)%20*%20100%3B%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20option.onProgress(e)%3B%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20token%5Cn%20%20%20%20%20%20)%3B%5Cn%20%20%20%20%7D%2C%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-TypeScript hljs"><span class="hljs-keyword">async<span class="hljs-title function_">upload(<span class="hljs-params">option) {<span class="hljs-variable language_">this.<span class="hljs-property">loaded =<span class="hljs-literal">true;<span class="hljs-keyword">var model =<span class="hljs-keyword">new<span class="hljs-title class_">CreateFileDto();<span class="hljs-keyword">var file = option.<span class="hljs-property">file;       model.<span class="hljs-property">fileName = file.<span class="hljs-property">name;       model.<span class="hljs-property">fileType =<span class="hljs-number">2;       model.<span class="hljs-property">mimeType = file.<span class="hljs-property">type;       model.<span class="hljs-property">ownerUserId =<span class="hljs-number">1;       model.<span class="hljs-property">fileContainerName =<span class="hljs-string">"Container1";       model.<span class="hljs-property">file = file;<span class="hljs-keyword">var fd =<span class="hljs-keyword">new<span class="hljs-title class_">FormData();<span class="hljs-title class_">Enumerable.<span class="hljs-title function_">from(model).<span class="hljs-title function_">forEach(<span class="hljs-function">(<span class="hljs-params">c) =&gt; {         fd.<span class="hljs-title function_">append(c.<span class="hljs-property">key, c.<span class="hljs-property">value);       });<span class="hljs-keyword">var token = file.<span class="hljs-property">cancelToken;<span class="hljs-keyword">await<span class="hljs-title function_">request(<span class="hljs-variable language_">this.<span class="hljs-property">uploadUrl,<span class="hljs-string">"post",         fd,<span class="hljs-function">(<span class="hljs-params">e) =&gt; {<span class="hljs-keyword">if (e.<span class="hljs-property">total &gt;<span class="hljs-number">0) {             e.<span class="hljs-property">percent = (e.<span class="hljs-property">loaded / e.<span class="hljs-property">total) *<span class="hljs-number">100;           }           option.<span class="hljs-title function_">onProgress(e);         },         token       );     },</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <p>将token将作为取消传输的入口交给ajaxRequire ，自己也保留这个对象用于发送取消命令，相当于“一式两份”。</p> <p>添加el-upload各阶段函数的订阅</p> <p>:before-upload="beforeUpload"<br /> :on-success="handleSuccess"<br /> :on-remove="handleRemove"<br /> :on-error="handleError"</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="6" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22TypeScript%22%2C%22code%22%3A%22%20%20%20%20handleSuccess(response%2C%20file%2C%20fileList)%20%7B%5Cn%20%20%20%20%20%20this.successMessage(%5C%22%E4%B8%8A%E4%BC%A0%E6%88%90%E5%8A%9F%5C%22)%3B%5Cn%20%20%20%20%20%20this.loading%20%3D%20false%3B%5Cn%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20handleError(e%2C%20file%2C%20fileList)%20%7B%5Cn%20%20%20%20%20%20this.errorMessage(e)%3B%5Cn%20%20%20%20%20%20this.loading%20%3D%20false%3B%5Cn%20%20%20%20%7D%2C%5Cn%5Cn%20%20%20%20handleRemove(file%2C%20fileList)%20%7B%5Cn%20%20%20%20%20%20if%20(file.raw.cancelToken)%20%7B%5Cn%20%20%20%20%20%20%20%20file.raw.cancelToken.cancel()%3B%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%2C%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-TypeScript hljs"><span class="hljs-title function_">handleSuccess(<span class="hljs-params">response, file, fileList) {<span class="hljs-variable language_">this.<span class="hljs-title function_">successMessage(<span class="hljs-string">"上传成功");<span class="hljs-variable language_">this.<span class="hljs-property">loading =<span class="hljs-literal">false;     },<span class="hljs-title function_">handleError(<span class="hljs-params">e, file, fileList) {<span class="hljs-variable language_">this.<span class="hljs-title function_">errorMessage(e);<span class="hljs-variable language_">this.<span class="hljs-property">loading =<span class="hljs-literal">false;     },<span class="hljs-title function_">handleRemove(<span class="hljs-params">file, fileList) {<span class="hljs-keyword">if (file.<span class="hljs-property">raw.<span class="hljs-property">cancelToken) {         file.<span class="hljs-property">raw.<span class="hljs-property">cancelToken.<span class="hljs-title function_">cancel();       }     },</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <p>编写上传队列的Html代码：</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="5" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22lang%22%3A%22html%22%2C%22code%22%3A%22%20%20%20%20%20%20%3Cel-button%20ref%3D%5C%22uploadButton%5C%22%3E%E4%B8%8A%E4%BC%A0%3C%2Fel-button%3E%5Cn%20%20%20%20%20%20%3Cspan%20slot%3D%5C%22file%5C%22%20slot-scope%3D%5C%22%7B%20file%20%7D%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%5C%22filelist-item%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%3Cel-row%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cel-col%20%3Aspan%3D%5C%226%5C%22%20class%3D%5C%22file-icon-frame%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%5C%22el-icon-document%20file-icon%5C%22%3E%3C%2Fi%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fel-col%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Cel-col%20%3Aspan%3D%5C%2218%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cel-row%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cel-col%20%3Aspan%3D%5C%2220%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%5C%22file-title%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7B%20file.name%20%7D%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Flabel%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fel-col%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cel-col%20%3Aspan%3D%5C%224%5C%22%20style%3D%5C%22text-align%3A%20right%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cel-button%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%5C%22danger%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon%3D%5C%22el-icon-minus%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20size%3D%5C%22mini%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20circle%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%40click%3D%5C%22handleRemove(file)%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%3C%2Fel-button%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fel-col%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cel-col%20%3Aspan%3D%5C%2224%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%5C%22file-size%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7B%20FriendlyFileSize(file.size)%20%7D%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Flabel%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fel-col%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cel-col%20%3Aspan%3D%5C%2224%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cel-progress%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Atext-inside%3D%5C%22true%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Astroke-width%3D%5C%2226%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Apercentage%3D%5C%22parseInt(file.percentage%2C%2010)%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Astatus%3D%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20parseInt(file.percentage%2C%2010)%20%3D%3D%20100%20%3F%20'success'%20%3A%20''%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fel-progress%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3E%3C%2Fel-col%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fel-row%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fel-col%3E%5Cn%20%20%20%20%20%20%20%20%20%20%3C%2Fel-row%3E%5Cn%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%5Cn%20%20%20%20%20%20%3C%2Fspan%3E%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="language-html hljs"><span class="hljs-tag">&lt;<span class="hljs-name">el-button<span class="hljs-attr">ref=<span class="hljs-string">"uploadButton"&gt;上传<span class="hljs-tag">&lt;/<span class="hljs-name">el-button&gt;<span class="hljs-tag">&lt;<span class="hljs-name">span<span class="hljs-attr">slot=<span class="hljs-string">"file"<span class="hljs-attr">slot-scope=<span class="hljs-string">"{ file }"&gt;<span class="hljs-tag">&lt;<span class="hljs-name">div<span class="hljs-attr">class=<span class="hljs-string">"filelist-item"&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-row&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-col<span class="hljs-attr">:span=<span class="hljs-string">"6"<span class="hljs-attr">class=<span class="hljs-string">"file-icon-frame"&gt;<span class="hljs-tag">&lt;<span class="hljs-name">i<span class="hljs-attr">class=<span class="hljs-string">"el-icon-document file-icon"&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">i&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-col&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-col<span class="hljs-attr">:span=<span class="hljs-string">"18"&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-row&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-col<span class="hljs-attr">:span=<span class="hljs-string">"20"&gt;<span class="hljs-tag">&lt;<span class="hljs-name">label<span class="hljs-attr">class=<span class="hljs-string">"file-title"&gt;                     {{ file.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">label&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-col&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-col<span class="hljs-attr">:span=<span class="hljs-string">"4"<span class="hljs-attr">style=<span class="hljs-string">"text-align: right"&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-button<span class="hljs-attr">type=<span class="hljs-string">"danger"<span class="hljs-attr">icon=<span class="hljs-string">"el-icon-minus"<span class="hljs-attr">size=<span class="hljs-string">"mini"<span class="hljs-attr">circle                     @<span class="hljs-attr">click=<span class="hljs-string">"handleRemove(file)"                   &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-button&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-col&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-col<span class="hljs-attr">:span=<span class="hljs-string">"24"&gt;<span class="hljs-tag">&lt;<span class="hljs-name">label<span class="hljs-attr">class=<span class="hljs-string">"file-size"&gt;                     {{ FriendlyFileSize(file.size) }}<span class="hljs-tag">&lt;/<span class="hljs-name">label&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-col&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-col<span class="hljs-attr">:span=<span class="hljs-string">"24"&gt;<span class="hljs-tag">&lt;<span class="hljs-name">el-progress<span class="hljs-attr">:text-inside=<span class="hljs-string">"true"<span class="hljs-attr">:stroke-width=<span class="hljs-string">"26"<span class="hljs-attr">:percentage=<span class="hljs-string">"parseInt(file.percentage, 10)"<span class="hljs-attr">:status=<span class="hljs-string">"                       parseInt(file.percentage, 10) == 100 ? 'success' : ''                     "                   &gt;                   &lt;/el-progress                 &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-col&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-row&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-col&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">el-row&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">div&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">span&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <h2>运行</h2> <p>进入后端项目的目录(api)，运行：</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="4" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22code%22%3A%22dotnet%20run%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="hljs">dotnet run</code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <p>前端项目目录(web)，运行</p> <div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="代码段" data-cke-filter="off" data-cke-widget-id="3" data-cke-widget-wrapper="1"> <pre class="cke_widget_element" data-cke-widget-data="%7B%22code%22%3A%22yarn%20serve%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="hljs">yarn serve</code></pre> <p><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/></span></div> <p>运行效果：</p> <p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="图像" data-cke-filter="off" data-cke-widget-id="2" data-cke-widget-wrapper="1"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/93794b3a4391a1b1e5ac38a2eeaae369.jpg" alt="vue写一个简单的文件上传控件"><span class="cke_reset cke_widget_drag_handler_container"><img decoding="async" src="http://img.555519.xyz/uploads3/20220509/4d72434cc8740dcd9bfaffc71902e2a8.jpg" alt="vue写一个简单的文件上传控件" width="15" height="15" class="cke_reset cke_widget_drag_handler" title="点击并拖拽以移动" data-cke-widget-drag-handler="1"/><span class="cke_image_resizer" title="点击并拖拽以改变尺寸"></span></span></span></p> <p>完整代码：</p> <p><span class="cke_widget_wrapper cke_widget_inline cke_widget_csdnlink cke_widget_selected" data-cke-display-name="a" data-cke-filter="off" data-cke-widget-id="1" data-cke-widget-wrapper="1"><a class="cke_widget_editable cke_widget_element" title="file-uploader-sample/web at master · jevonsflash/file-uploader-sample (github.com)" href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://github.com/jevonsflash/file-uploader-sample/tree/master/web"  data-cke-enter-mode="2" data-cke-saved-href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://github.com/jevonsflash/file-uploader-sample/tree/master/web"  data-cke-widget-data="%7B%22url%22%3A%22https%3A%2F%2Fgithub.com%2Fjevonsflash%2Ffile-uploader-sample%2Ftree%2Fmaster%2Fweb%22%2C%22text%22%3A%22file-uploader-sample%2Fweb%20at%20master%20%C2%B7%20jevonsflash%2Ffile-uploader-sample%20(github.com)%22%2C%22desc%22%3A%22%22%2C%22icon%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.8%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM276%22%2C%22isCard%22%3Afalse%2C%22hasResquest%22%3Atrue%2C%22iconDefault%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.9%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM3C8%22%2C%22id%22%3A%22BdBBDH-1650438341119%22%2C%22classes%22%3Anull%7D" data-cke-widget-editable="text" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.0.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M276" data-link-title="file-uploader-sample/web at master · jevonsflash/file-uploader-sample (github.com)" data-widget="csdnlink" rel="nofollow">file-uploader-sample/web at master · jevonsflash/file-uploader-sample (github.com)</a></span></p> <p>项目地址：</p> <p><span class="cke_widget_wrapper cke_widget_inline cke_widget_csdnlink cke_widget_selected" data-cke-display-name="a" data-cke-filter="off" data-cke-widget-id="0" data-cke-widget-wrapper="1"><a class="cke_widget_editable cke_widget_element" title="jevonsflash/file-uploader-sample (github.com)" href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://github.com/jevonsflash/file-uploader-sample"  data-cke-enter-mode="2" data-cke-saved-href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://github.com/jevonsflash/file-uploader-sample"  data-cke-widget-data="%7B%22url%22%3A%22https%3A%2F%2Fgithub.com%2Fjevonsflash%2Ffile-uploader-sample%22%2C%22text%22%3A%22jevonsflash%2Ffile-uploader-sample%20(github.com)%22%2C%22desc%22%3A%22%22%2C%22icon%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.8%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM276%22%2C%22isCard%22%3Afalse%2C%22hasResquest%22%3Atrue%2C%22iconDefault%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.0.9%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DM3C8%22%2C%22id%22%3A%22UFyVG9-1650438341119%22%2C%22classes%22%3Anull%7D" data-cke-widget-editable="text" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.0.8/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=M276" data-link-title="jevonsflash/file-uploader-sample (github.com)" data-widget="csdnlink" rel="nofollow">jevonsflash/file-uploader-sample (github.com)</a></span></p> <p><span data-cke-copybin-start="1"><span data-cke-copybin-end="1"></span></span></p> 			                <div class="clearfix"></div>
                <div class="col-md-12 mt-5">
                                        <p>上一个：<a href="/news/article-85289.htm">给动物注射疫苗产生的免疫属于 给动物注射疫苗产生的免疫属于什么免疫</a></p>
                                        <p>下一个：<a href="/news/article-86010.htm">农大动物医院专家名单（农大动物医院电话号码）</a></p>
                                    </div>
                                </div>
                <div class="col-md-3">
                    <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/news/article-80326.htm" title="宠物猫打疫苗多久一次、多少钱（宠物猫打一次疫苗要多少钱）">宠物猫打疫苗多久一次、多少钱（宠物猫打一次疫苗要多少钱）</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-3-14-vmess-windows.htm" title="3月14日 | Vmess节点订阅每天更新21.5M/S免费订阅链接地址分享">3月14日 | Vmess节点订阅每天更新21.5M/S免费订阅链接地址分享</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-3-28-node-share-links.htm" title="3月28日 | Vmess节点订阅每天更新20.9M/S免费订阅链接地址分享">3月28日 | Vmess节点订阅每天更新20.9M/S免费订阅链接地址分享</a></li>
                        <li class="py-2"><a href="/news/article-70236.htm" title="德信宠物医院（德信东望府宠物会所）">德信宠物医院（德信东望府宠物会所）</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-3-15-vmess-node.htm" title="3月15日 | Vmess节点订阅每天更新21.9M/S免费订阅链接地址分享">3月15日 | Vmess节点订阅每天更新21.9M/S免费订阅链接地址分享</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-3-18-vmess-github.htm" title="3月18日 | Vmess节点订阅每天更新22.3M/S免费订阅链接地址分享">3月18日 | Vmess节点订阅每天更新22.3M/S免费订阅链接地址分享</a></li>
                        <li class="py-2"><a href="/news/article-72220.htm" title="动物注射疫苗注射哪里最安全呢（动物接种疫苗）">动物注射疫苗注射哪里最安全呢（动物接种疫苗）</a></li>
                        <li class="py-2"><a href="/news/article-78280.htm" title="兽医站给猫打疫苗要多少钱一次（兽医站给猫打疫苗要多少钱一次呢）">兽医站给猫打疫苗要多少钱一次（兽医站给猫打疫苗要多少钱一次呢）</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-4-1-vmess-github.htm" title="4月1日 | Vmess节点订阅每天更新20.1M/S免费订阅链接地址分享">4月1日 | Vmess节点订阅每天更新20.1M/S免费订阅链接地址分享</a></li>
                        <li class="py-2"><a href="/news/article-68943.htm" title="养猫对人的巨大危害图片（养猫咪对人的害处有哪些）">养猫对人的巨大危害图片（养猫咪对人的害处有哪些）</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">11</span> <a href="/date/2025-04/" title="2025-04 归档">2025-04</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">90</span> <a href="/date/2025-03/" title="2025-03 归档">2025-03</a></h4>
            </li>
                    </ul>
    </div>
</div>

                </div>
            </div>
        </div>
    </section>
        <style>
    .video-heading {
        max-width: 750px;
        margin: 0 auto;
    }

    .video-heading h3 {
        font-size: 60px;
        opacity: 0.8;
        line-height: 58px;
        font-weight: 300;
        text-transform: capitalize;
        color: #fff;
    }

    .video-responsive {
        padding-bottom: 600px;
        position: relative;
        width: 100%;
    }

    .canvas,
    .video {
        left: 0;
        position: absolute;
        top: 0;
        background: #000;
        z-index: 5;
        overflow: hidden;
        width: 100%;
        height: 600px;
        object-fit: cover;
    }

    #over_video {
        position: absolute;
        width: 100%;
        height: 100%;
        text-align: center;
        top: 0;
        z-index: 10;
        color: #FFF;
    }

    .bg-mask {
        background: rgba(0, 0, 0, 0.3);
        height: inherit;
        display: grid;
        align-items: center;
        padding: 0 15px;
    }

    @media screen and (max-width: 568px) {

        .canvas,
        .video {
            height: 400px;
        }

        .video-responsive {
            padding-bottom: 400px;
        }


        .video-heading h3 {
            font-size: 35px;
            line-height: 48px;
            margin-bottom: 20px;
        }
    }
    </style>
    <script src="/assets/website/js/frontend/vmess_node/canvas-video-player.js"></script>
    <script>
    var isIOS = /iPad|iPhone|iPod/.test(navigator.platform);

    if (isIOS) {

        var canvasVideo = new CanvasVideoPlayer({
            videoSelector: '.video',
            canvasSelector: '.canvas',
            timelineSelector: false,
            autoplay: true,
            makeLoop: true,
            pauseOnClick: false,
            audio: false
        });

    } else {

        // Use HTML5 video
        document.querySelectorAll('.canvas')[0].style.display = 'none';

    }
    </script>
    <!-- scripts -->
    <footer>
        <!-- footer -->
        <section class="w3l-footer">
            <div class="w3l-footer-16-main py-5">
                <div class="container">
                    <div class="d-flex below-section justify-content-between align-items-center pt-4 mt-5">
                        <div class="columns text-lg-left text-center">
                                                <p>
                                                <a href="/">首页</a> |
                                                <a href="/free-nodes/">免费节点</a> |
                                                <a href="/paid-subscribe/">推荐机场</a> |
                                                <a href="/client.htm">客户端</a> |
                                                <a href="/news/">新闻资讯</a> |
                                                <a href="/about-us.htm">关于我们</a> |
                        <a href="/disclaimer.htm">免责申明</a> |
                        <a href="/privacy.htm">隐私申明</a> |
                        <a href="/sitemap.xml">网站地图</a>
                    </p>
                            <p>Vmess Node免费节点订阅官网 版权所有 Powered by WordPress
                            </p>
                        </div>
                        <div class="columns-2 mt-lg-0 mt-3">
                            <ul class="social">
                                <li><a href="#facebook"><span class="fa fa-facebook" aria-hidden="true"></span></a>
                                </li>
                                <li><a href="#linkedin"><span class="fa fa-linkedin" aria-hidden="true"></span></a>
                                </li>
                                <li><a href="#twitter"><span class="fa fa-twitter" aria-hidden="true"></span></a>
                                </li>
                                <li><a href="#google"><span class="fa fa-google-plus" aria-hidden="true"></span></a>
                                </li>
                                <li><a href="#github"><span class="fa fa-github" aria-hidden="true"></span></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- move top -->
            <button onclick="topFunction()" id="movetop" title="Go to top">
                <span class="fa fa-angle-up"></span>
            </button>
            <script>
            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function() {
                scrollFunction()
            };

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById("movetop").style.display = "block";
                } else {
                    document.getElementById("movetop").style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0;
                document.documentElement.scrollTop = 0;
            }
            </script>
            <!-- //move top -->
            <script>
            $(function() {
                $('.navbar-toggler').click(function() {
                    $('body').toggleClass('noscroll');
                })
            });
            </script>
        </section>
        <!-- //footer -->
    </footer>
    <!-- jQuery -->
    <script src="/assets/website/js/frontend/vmess_node/jquery-3.5.1.min.js"></script>
    <!-- Template JavaScript -->
    <!-- stats number counter-->
    <script src="/assets/website/js/frontend/vmess_node/jquery.waypoints.min.js"></script>
    <script src="/assets/website/js/frontend/vmess_node/jquery.countup.js"></script>
    <script>
    $('.counter').countUp();
    </script>
    <!-- //stats number counter -->
    <script src="/assets/website/js/frontend/vmess_node/jquery.magnific-popup.min.js"></script>
    <script>
    $(document).ready(function() {
        $('.popup-with-zoom-anim').magnificPopup({
            type: 'inline',

            fixedContentPos: false,
            fixedBgPos: true,

            overflowY: 'auto',

            closeBtnInside: true,
            preloader: false,

            midClick: true,
            removalDelay: 300,
            mainClass: 'my-mfp-zoom-in'
        });

        $('.popup-with-move-anim').magnificPopup({
            type: 'inline',

            fixedContentPos: false,
            fixedBgPos: true,

            overflowY: 'auto',

            closeBtnInside: true,
            preloader: false,

            midClick: true,
            removalDelay: 300,
            mainClass: 'my-mfp-slide-bottom'
        });
    });
    </script>
    <script src="/assets/website/js/frontend/vmess_node/owl.carousel.js"></script>
    <!-- testimonials for owlcarousel -->
    <script>
    $(document).ready(function() {
        $('.owl-one').owlCarousel({
            loop: true,
            margin: 0,
            nav: false,
            responsiveClass: true,
            autoplay: false,
            autoplayTimeout: 5000,
            autoplaySpeed: 1000,
            autoplayHoverPause: false,
            responsive: {
                0: {
                    items: 1,
                    nav: false
                },
                480: {
                    items: 1,
                    nav: false
                },
                667: {
                    items: 1,
                    nav: false
                },
                1000: {
                    items: 1,
                    nav: false
                }
            }
        })
    })
    </script>
    <!-- //testimonials script for owlcarousel -->
    <!-- for blog carousel slider -->
    <script>
    $(document).ready(function() {
        $('.owl-two').owlCarousel({
            stagePadding: 20,
            margin: 15,
            nav: false,
            loop: false,
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 2
                },
                1000: {
                    items: 3
                }
            }
        })
    })
    </script>
    <!-- //for blog carousel slider -->
    <script>
    var lFollowX = 0,
        lFollowY = 0,
        x = 0,
        y = 0,
        friction = 1 / 30;

    function animate() {
        x += (lFollowX - x) * friction;
        y += (lFollowY - y) * friction;

        translate = 'translate(' + x + 'px, ' + y + 'px) scale(1.1)';

        $('.banner-image').css({
            '-webit-transform': translate,
            '-moz-transform': translate,
            'transform': translate
        });

        window.requestAnimationFrame(animate);
    }

    $(window).on('mousemove click', function(e) {

        var lMouseX = Math.max(-100, Math.min(100, $(window).width() / 2 - e.clientX));
        var lMouseY = Math.max(-100, Math.min(100, $(window).height() / 2 - e.clientY));
        lFollowX = (20 * lMouseX) / 100; // 100 : 12 = lMouxeX : lFollow
        lFollowY = (10 * lMouseY) / 100;

    });

    animate();
    </script>
    <!-- disable body scroll which navbar is in active -->
    <script>
    $(function() {
        $('.navbar-toggler').click(function() {
            $('body').toggleClass('noscroll');
        })
    });
    </script>
    <!--/MENU-JS-->
    <script>
    $(window).on("scroll", function() {
        var scroll = $(window).scrollTop();

        if (scroll >= 80) {
            $("#site-header").addClass("nav-fixed");
        } else {
            $("#site-header").removeClass("nav-fixed");
        }
    });

    //Main navigation Active Class Add Remove
    $(".navbar-toggler").on("click", function() {
        $("header").toggleClass("active");
    });
    $(document).on("ready", function() {
        if ($(window).width() > 991) {
            $("header").removeClass("active");
        }
        $(window).on("resize", function() {
            if ($(window).width() > 991) {
                $("header").removeClass("active");
            }
        });
    });
    </script>
    <!--//MENU-JS-->
    <!-- Bootstrap JS -->
    <script src="/assets/website/js/frontend/vmess_node/bootstrap.min.js"></script>
    <script src="https://www.freeclashnode.com/assets/js/frontend/invite-url.js"></script>
    <script src="/assets/website/js/frontend/G.js"></script>
</body>

</html>